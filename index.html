<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>–í–∏—Ç–∞–ª–∏–π & –î–∞—Ä—å—è ‚Äî –°–≤–∞–¥—å–±–∞</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
<style>
:root {
    --bg: #f7f6f4;
    --card: #ffffff;
    --text: #1f1f1f;
    --muted: #8c8c8c;
    --accent: #c2b59b;
    --border: rgba(0,0,0,.06);
    --shadow: 0 30px 60px rgba(0,0,0,.08);
}

body.dark {
    --bg: #121212;
    --card: #1b1b1b;
    --text: #f2f2f2;
    --muted: #9a9a9a;
    --accent: #bfa77a;
    --border: rgba(255,255,255,.08);
    --shadow: 0 40px 80px rgba(0,0,0,.6);
}

* {
    box-sizing: border-box;
}

body {
    margin: 0;
    background: var(--bg);
    color: var(--text);
    font-family: Inter, sans-serif;
    text-align: center;
    transition: background .4s, color .4s;
}

.container {
    max-width: 860px;
    margin: auto;
    padding: 40px 20px 80px;
}

header {
    padding: 90px 20px 70px;
}

header h1 {
    font-family: "Playfair Display", serif;
    font-size: 44px;
    font-weight: 600;
    letter-spacing: 1px;
    margin: 0;
}

header h2 {
    font-weight: 300;
    font-size: 18px;
    color: var(--muted);
    margin-top: 14px;
}

#inviteTitle {
    margin-top: 24px;
    font-size: 17px;
    color: var(--muted);
}

.card {
    background: var(--card);
    border-radius: 28px;
    padding: 48px;
    margin-bottom: 40px;
    box-shadow: var(--shadow);
    border: 1px solid var(--border);
}

.card h3 {
    font-family: "Playfair Display", serif;
    font-weight: 400;
    font-size: 28px;
    margin-bottom: 20px;
}

.card p {
    font-size: 16px;
    line-height: 1.7;
    color: var(--muted);
}

.toggle {
    position: absolute;
    top: 20px;
    right: 90px;
    font-size: 13px;
    letter-spacing: .1em;
    padding: 10px 18px;
    border-radius: 30px;
    border: 1px solid var(--border);
    background: var(--card);
    cursor: pointer;
}

/* Timer */
#timer {
    margin-top: 30px;
    font-size: 22px;
    letter-spacing: .05em;
    color: var(--accent);
}

/* Timeline */
.event {
    display: flex;
    justify-content: space-between;
    padding: 14px 0;
    border-bottom: 1px solid var(--border);
    font-size: 15px;
}

.event:last-child {
    border-bottom: none;
}

.time {
    color: var(--accent);
}

/* RSVP */
.rsvp input {
    padding: 18px;
    font-size: 16px;
    border-radius: 18px;
    border: 1px solid var(--border);
    width: 260px;
    background: transparent;
    color: var(--text);
}

.rsvp button {
    padding: 18px 32px;
    font-size: 14px;
    letter-spacing: .1em;
    border-radius: 18px;
    background: var(--accent);
    color: #fff;
    border: none;
    cursor: pointer;
}

.rsvp-result {
    margin-top: 20px;
    font-size: 16px;
    color: var(--accent);
}

/* Guests */
ul {
    list-style: none;
    padding: 0;
}

li {
    padding: 10px 0;
    border-bottom: 1px solid var(--border);
}

/* Map */
.map {
    height: 300px;
    border-radius: 22px;
    overflow: hidden;
    margin-top: 20px;
}

.map iframe {
    width: 100%;
    height: 100%;
    border: none;
}

/* Gallery */
.gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 14px;
}

.gallery img {
    width: 100%;
    border-radius: 20px;
    object-fit: cover;
}

/* Mobile */
@media (max-width: 600px) {
    header h1 { font-size: 32px; }
    .card { padding: 32px; }
    .event { flex-direction: column; gap: 6px; }
}
li button {
    margin-left: 10px;
    border: none;
    background: transparent;
    color: var(--muted);
    cursor: pointer;
    font-size: 14px;
}
li button:hover {
    color: #e36b6b;
}
/* Card animation */
.card {
    opacity: 0;
    transform: translateY(60px) scale(0.98);
    transition:
        opacity 1.2s cubic-bezier(.2,.8,.2,1),
        transform 1.2s cubic-bezier(.2,.8,.2,1);
}

.card.visible {
    opacity: 1;
    transform: translateY(0) scale(1);
}
/* Lightbox */
#lightbox {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.85);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s ease;
    z-index: 999;
}

#lightbox.active {
    opacity: 1;
    pointer-events: auto;
}

#lightbox img {
    max-width: 90%;
    max-height: 90%;
    border-radius: 24px;
    box-shadow: 0 40px 80px rgba(0,0,0,.6);
    animation: zoomIn 0.4s ease;
}

@keyframes zoomIn {
    from {
        transform: scale(0.85);
        opacity: 0;
    }
    to {
        transform: scale(1);
        opacity: 1;
    }
}

.music-btn {
    position: absolute;
    top: 10px;
    right: 20px;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    border: none;
    background: var(--accent);
    color: #fff;
    font-size: 22px;
    cursor: pointer;
    box-shadow: 0 10px 30px rgba(0,0,0,.25);
    transition: transform .4s ease, box-shadow .4s ease;
}

.music-btn.playing {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(194,181,155,.6); }
    70% { box-shadow: 0 0 0 20px rgba(194,181,155,0); }
    100% { box-shadow: 0 0 0 0 rgba(194,181,155,0); }
}


.calendar-btn {
    display: inline-block;
    margin-top: 20px;
    padding: 14px 24px;
    border-radius: 20px;
    background: transparent;
    border: 1px solid var(--accent);
    color: var(--accent);
    text-decoration: none;
}
@media print {
    .toggle,
    .music-btn,
    .menu,
    iframe {
        display: none !important;
    }

    body {
        background: white;
        color: black;
    }

    .card {
        box-shadow: none;
        border: 1px solid #ddd;
        page-break-inside: avoid;
    }
}

html {
    scroll-behavior: smooth;
}
.menu {
    position: relative;
    border-radius: 28px;
    top: 0;
    background: var(--bg);
    padding: 12px;
}
.menu a {
    margin: 0 10px;
    text-decoration: none;
    color: var(--muted);
}

body.music-on .card {
    transition: transform 1s ease;
    transform: translateY(-4px);
}

.route-btn {
    display: inline-block;
    margin-top: 14px;
    padding: 12px 24px;
    border-radius: 20px;
    background: var(--accent);
    color: #fff;
    text-decoration: none;
    font-size: 14px;
}

footer {
    margin-top: 60px;
    font-size: 14px;
    color: var(--muted);
    opacity: .8;
}


.card:hover {
    transform: translateY(-6px);
    transition: transform .6s cubic-bezier(.2,.8,.2,1);
}

body::before {
    content: "";
    position: fixed;
    inset: 0;
    background:
        linear-gradient(
            rgba(247,246,244,.88),
            rgba(247,246,244,.92)
        ),
        url("rings-bg.jpg") center / cover no-repeat;
    z-index: -1;
    transform: scale(1.05);
}

body.dark::before {
    background:
        linear-gradient(
            rgba(18,18,18,.85),
            rgba(18,18,18,.92)
        ),
        url("images/rings-bg.jpg") center / cover no-repeat;
}

#guests li {
    opacity: 0;
    transform: translateY(10px);
    animation: fadeIn .6s ease forwards;
}

@keyframes fadeIn {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Premium Invite Card */
#inviteOverlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.55);
    backdrop-filter: blur(8px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 3000;
    opacity: 0;
    pointer-events: none;
    transition: opacity 1s ease;
}

#inviteOverlay.active {
    opacity: 1;
    pointer-events: auto;
}

.invite-card {
    position: relative;
    width: min(92%, 520px);
    background: linear-gradient(180deg, #fff, #faf9f7);
    border-radius: 36px;
    box-shadow: 0 60px 120px rgba(0,0,0,.25);
    overflow: hidden;
    animation: cardEnter 1.2s cubic-bezier(.2,.8,.2,1);
}

body.dark .invite-card {
    background: linear-gradient(180deg, #1b1b1b, #141414);
}

@keyframes cardEnter {
    from {
        opacity: 0;
        transform: translateY(60px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.invite-decor {
    height: 140px;
    background:
        linear-gradient(
            rgba(0,0,0,.15),
            rgba(0,0,0,.05)
        ),
        url("rings-bg.jpg") center / cover no-repeat;
}

.invite-content {
    padding: 48px 40px 44px;
    text-align: center;
}

.invite-eyebrow {
    font-size: 12px;
    letter-spacing: .25em;
    color: var(--muted);
    text-transform: uppercase;
}

.invite-content h1 {
    font-family: "Playfair Display", serif;
    font-size: 32px;
    margin: 20px 0 14px;
}

.invite-text {
    font-size: 16px;
    line-height: 1.7;
    color: var(--muted);
}

.invite-meta {
    display: flex;
    justify-content: center;
    gap: 24px;
    margin: 26px 0 34px;
    font-size: 14px;
    color: var(--accent);
}

#enterSite {
    padding: 16px 36px;
    border-radius: 24px;
    border: none;
    background: var(--accent);
    color: #fff;
    font-size: 13px;
    letter-spacing: .12em;
    cursor: pointer;
    box-shadow: 0 15px 40px rgba(194,181,155,.6);
    transition: transform .4s ease, box-shadow .4s ease;
}

#enterSite:hover {
    transform: translateY(-2px);
    box-shadow: 0 25px 60px rgba(194,181,155,.75);
}

.gallery img {
    transition: transform .6s ease, box-shadow .6s ease;
}
.gallery img:hover {
    transform: scale(1.03);
    box-shadow: 0 30px 60px rgba(0,0,0,.25);
}

.menu {
    position: sticky;
    top: 10px;
    z-index: 50;
}

::selection {
    background: var(--accent);
    color: #fff;
}
<meta property="og:title" content="–°–≤–∞–¥—å–±–∞ –í–∏—Ç–∞–ª–∏—è –∏ –î–∞—Ä—å–∏">
<meta property="og:description" content="–ú—ã –±—É–¥–µ–º —Ä–∞–¥—ã —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Å –≤–∞–º–∏ –Ω–∞—à –æ—Å–æ–±–µ–Ω–Ω—ã–π –¥–µ–Ω—å">
<meta property="og:image" content="https://–í–ê–®_–°–ê–ô–¢/images/preview.jpg">
<meta property="og:type" content="website">
<meta name="description" content="–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ —Å–≤–∞–¥—å–±—É –í–∏—Ç–∞–ª–∏—è –∏ –î–∞—Ä—å–∏ ‚Äî 20 –∏—é–Ω—è 2026">

/* Envelope animation */
.envelope {
    position: relative;
    width: min(92%, 520px);
    height: 340px;
    background: #f6f2ec;
    border-radius: 28px;
    box-shadow: 0 60px 120px rgba(0,0,0,.35);
    overflow: hidden;
    cursor: pointer;
    transform-style: preserve-3d;
}

.envelope-back {
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, #faf9f7, #f0ebe3);
    z-index: 1;
}

.envelope-flap {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 60%;
    background: linear-gradient(180deg, #e9e3d8, #dcd4c5);
    clip-path: polygon(0 0, 100% 0, 50% 100%);
    transform-origin: top;
    transition: transform 1.2s cubic-bezier(.2,.8,.2,1);
    z-index: 3;
}

.envelope.open .envelope-flap {
    transform: rotateX(-160deg);
}

.letter {
    position: absolute;
    left: 50%;
    bottom: -220px;
    transform: translateX(-50%);
    width: 90%;
    background: linear-gradient(180deg, #fff, #faf9f7);
    border-radius: 26px;
    padding: 40px 32px;
    box-shadow: 0 40px 80px rgba(0,0,0,.25);
    text-align: center;
    transition: bottom 1.4s cubic-bezier(.2,.8,.2,1);
    z-index: 2;
}

.envelope.open .letter {
    bottom: 20px;
}

/* Overlay center */
#inviteOverlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.6);
    backdrop-filter: blur(10px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 3000;
    opacity: 0;
    pointer-events: none;
    transition: opacity .8s ease;
}

#inviteOverlay.active {
    opacity: 1;
    pointer-events: auto;
}


</style>


</head>

<body>
<div id="inviteOverlay">
  <div class="envelope" id="envelope">
    <div class="envelope-back"></div>

    <div class="envelope-flap"></div>

    <div class="letter">
      <span class="invite-eyebrow">Wedding Invitation</span>
      <h1 id="inviteName"></h1>

      <p class="invite-text">
        –ú—ã –±—É–¥–µ–º —Å—á–∞—Å—Ç–ª–∏–≤—ã —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Å –≤–∞–º–∏<br>
        –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö –¥–Ω–µ–π –Ω–∞—à–µ–π –∂–∏–∑–Ω–∏
      </p>

      <div class="invite-meta">
        <span>20 –∏—é–Ω—è 2026</span>
      </div>

      <button id="enterSite">–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ</button>
    </div>
  </div>
</div>



<div id="lightbox">
    <img id="lightboxImg">
</div>

<div class="toggle" onclick="toggleTheme()">MODE</div>

<audio id="bgMusic" src="music.mp3" loop></audio>

<button id="musicBtn" class="music-btn" onclick="toggleMusic()">
‚ô´
</button>



<header>
    <h1>–í–∏—Ç–∞–ª–∏–π –ü—ã—Ä–∏–∫–æ–≤ & –î–∞—Ä—å—è –•–∞—Ä–∏—Ç–æ–Ω–æ–≤–∞</h1>
    <h2>20 –∏—é–Ω—è 2026</h2>
    <div id="inviteTitle"></div>
</header>

<div class="container">


<nav class="menu">
  <a href="#day">–î–µ–Ω—å</a>
  <a href="#plan">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a>
  <a href="#place">–õ–æ–∫–∞—Ü–∏–∏</a>
  <a href="#photos">–§–æ—Ç–æ</a>
</nav>

<div class="card" id="day">
    <h3>–°–≤–∞–¥–µ–±–Ω—ã–π –¥–µ–Ω—å</h3>
    <p>–ú—ã –±—É–¥–µ–º —Å—á–∞—Å—Ç–ª–∏–≤—ã —Ä–∞–∑–¥–µ–ª–∏—Ç—å —ç—Ç–æ—Ç –æ—Å–æ–±–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤–º–µ—Å—Ç–µ —Å –≤–∞–º–∏.</p>
    <div id="timer"></div>
</div>

<div class="card" id="plan">
    <h3>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h3>
    <div class="event"><span class="time">11:30</span>–°–±–æ—Ä –≥–æ—Å—Ç–µ–π</div>
    <div class="event"><span class="time">12:00</span>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±—Ä–∞–∫–∞</div>
    <div class="event"><span class="time">15:00</span>–†–µ—Å—Ç–æ—Ä–∞–Ω (–†–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏)</div>
    <div class="event"><span class="time">19:00</span>–í–µ—á–µ—Ä–∏–Ω–∫–∞ (–î—Ä—É–∑—å—è)</div>
</div>

<div class="card rsvp">
  <h3>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ</h3>
  <form id="rsvpForm">
<input
  id="name"
  name="entry.1249449313"
  placeholder="–í–∞—à–µ –§–ò–û"
  minlength="3"
  required
>
    <button type="submit">–ü–û–î–¢–í–ï–†–î–ò–¢–¨</button>
  </form>

  <div id="msg" class="rsvp-result"></div>
</div>

<div class="card">
  <h3>–ù–∞—à–∏ –≥–æ—Å—Ç–∏ü§ç</h3>
  <ul id="guests"></ul>
</div>

<div class="card">
    <h3>–î—Ä–µ—Å—Å-–∫–æ–¥</h3>
    <p>
        –ú—ã –±—É–¥–µ–º —Ä–∞–¥—ã, –µ—Å–ª–∏ –≤—ã –ø–æ–¥–¥–µ—Ä–∂–∏—Ç–µ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –ø—Ä–∞–∑–¥–Ω–∏–∫–∞ ü§ç<br><br>
        <b>–¶–≤–µ—Ç–∞:</b> –±–µ–∂–µ–≤—ã–π, —à–∞–º–ø–∞–Ω—å, —Å–µ—Ä—ã–π, –ø–∞—Å—Ç–µ–ª—å–Ω—ã–µ –æ—Ç—Ç–µ–Ω–∫–∏<br>
        <b>–°—Ç–∏–ª—å:</b> —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–π, –≤–µ—á–µ—Ä–Ω–∏–π<br><br>
        –ì–ª–∞–≤–Ω–æ–µ ‚Äî –≤–∞—à –∫–æ–º—Ñ–æ—Ä—Ç –∏ —Ö–æ—Ä–æ—à–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ ‚ú®
    </p>
</div>

<div class="card" id="place">
<h3> –ú–µ—Å—Ç–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</h3>
<p><b>—É–ª. –ö—Ä—É–ø—Å–∫–æ–π, 44</b></p>
    <img 
        src="imagesmir.jpg" 
        alt="–ö–æ—Ç—Ç–µ–¥–∂" 
        style="width:100%; border-radius:20px; margin-bottom:15px;"
    >
<div class="map">
<iframe 
  src="https://yandex.ru/map-widget/v1/?text=–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω—ã–π%20–æ—Ç–¥–µ–ª%20–∞–≥–µ–Ω—Ç—Å—Ç–≤–∞%20–ó–ê–ì–°%20–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–æ–≥–æ%20–∫—Ä–∞—è%20–ø–æ%20–û–∫—Ç—è–±—Ä—å—Å–∫–æ–º—É%20—Ä–∞–π–æ–Ω—É%20–≥–æ—Ä–æ–¥–∞%20–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∞%2C%20—É–ª.%20–ö—Ä—É–ø—Å–∫–æ–π%2C%2044&z=16">
</iframe>
<a class="route-btn"
   href="https://yandex.ru/maps/?rtext=~—É–ª.%20–ö—Ä—É–ø—Å–∫–æ–π%2044"
   target="_blank">
   üöó –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç
</a>
</div>
</div>


<div class="card">
<h3> –†–µ—Å—Ç–æ—Ä–∞–Ω (–ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—è —Å —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞–º–∏)</h3>
<p><b>—É–ª. –õ–µ–Ω–∏–Ω–∞, 118–ê</b></p>
    <img 
        src="imagesrest.jpg" 
        alt="–†–µ—Å—Ç–æ—Ä–∞–Ω" 
        style="width:100%; border-radius:20px; margin-bottom:15px;"
    >
<div class="map">
<iframe 
  src="https://yandex.ru/map-widget/v1/?text=–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫,%20—É–ª.%20–õ–µ–Ω–∏–Ω–∞%20118–ê&z=16">
</iframe>
</div>
</div>

<div class="card">
    <h3> –ö–æ—Ç—Ç–µ–¥–∂ (–≤–µ—á–µ—Ä–∏–Ω–∫–∞ —Å –¥—Ä—É–∑—å—è–º–∏)</h3>
    <p><b> —É–ª. –ï–ª–µ–Ω—ã –°—Ç–∞—Å–æ–≤–æ–π, 75</b></p>

    <img 
        src="imagescottage.jpg" 
        alt="–ö–æ—Ç—Ç–µ–¥–∂" 
        style="width:100%; border-radius:20px; margin-bottom:15px;"
    >

    <div class="map">
        <iframe 
            src="https://yandex.ru/map-widget/v1/?text=–≥.%20–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫,%20—É–ª.%20–ï–ª–µ–Ω—ã%20–°—Ç–∞—Å–æ–≤–æ–π%2075&z=16">
        </iframe>
<a class="route-btn"
href="https://yandex.ru/maps/?rtext=~—É–ª.%20–ï–ª–µ–Ω—ã%20–°—Ç–∞—Å–æ–≤–æ–π%2075"
target="_blank">
üöó –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç
</a>

    </div>
</div>
<div class="card" id="photos">
    <h3> –ú—ã –í–∞—Å –∂–¥–µ–º!</h3>
    <div class="gallery">
        <img src="images1.jpg">
    </div>
</div>

<footer>–° –ª—é–±–æ–≤—å—é ‚ù§Ô∏è –í–∏—Ç–∞–ª–∏–π –∏ –î–∞—Ä—å—è</footer>

<a href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=–°–≤–∞–¥—å–±–∞%20–í–∏—Ç–∞–ª–∏—è%20–∏%20–î–∞—Ä—å–∏&dates=20260620T050000Z/20260620T150000Z&details=–ú—ã%20–±—É–¥–µ–º%20—Ä–∞–¥—ã%20–≤–∞—Å%20–≤–∏–¥–µ—Ç—å&location=–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫"
target="_blank" class="calendar-btn">
–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å üìÖ
</a>


<script>
/* Timer */
const weddingDate = new Date("2026-06-20T00:00:00");
const timer = document.getElementById("timer");
function updateTimer(){
    const diff = weddingDate - new Date();
    if(diff<=0){ timer.innerText="üéâ –°–µ–≥–æ–¥–Ω—è —Å–≤–∞–¥—å–±–∞!"; return;}
    const d=Math.floor(diff/86400000);
    const h=Math.floor(diff/3600000)%24;
    const m=Math.floor(diff/60000)%60;
    const s=Math.floor(diff/1000)%60;
    timer.innerText=` ${d} –¥ ${h} —á ${m} –º–∏–Ω ${s} —Å–µ–∫`;
}
setInterval(updateTimer,1000); updateTimer();

/* Theme */
function toggleTheme(){
    document.body.classList.toggle("dark");
    localStorage.setItem("theme",document.body.classList.contains("dark"));
}
if(localStorage.getItem("theme")==="true")document.body.classList.add("dark");

/* Personal invite */
const p=new URLSearchParams(location.search).get("guest");
if(p){
    document.getElementById("name").value=p;
    document.getElementById("inviteTitle").innerText=`–î–æ—Ä–æ–≥–æ–π(–∞—è) ${p}, –∂–¥—ë–º –≤–∞—Å ‚ù§Ô∏è`;
}
/* Card reveal on scroll */
const cards = document.querySelectorAll(".card");

const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add("visible");
            observer.unobserve(entry.target);
        }
    });
}, {
    threshold: 0.15
});

cards.forEach(card => observer.observe(card));
/* Gallery lightbox */
const lightbox = document.getElementById("lightbox");
const lightboxImg = document.getElementById("lightboxImg");

document.querySelectorAll(".gallery img").forEach(img => {
    img.addEventListener("click", () => {
        lightboxImg.src = img.src;
        lightbox.classList.add("active");
    });
});

lightbox.addEventListener("click", () => {
    lightbox.classList.remove("active");
});


const music = document.getElementById("bgMusic");
const btn = document.getElementById("musicBtn");
let playing = false;

music.volume = 0;

function toggleMusic() {
    if (!playing) {
        music.play();
        fadeVolume(0, 1);
        btn.classList.add("playing");
    } else {
        fadeVolume(1, 0, () => music.pause());
        btn.classList.remove("playing");
    }
    playing = !playing;
}

function fadeVolume(from, to, done) {
    let v = from;
    const step = (to > from ? 0.02 : -0.02);
    const interval = setInterval(() => {
        v += step;
        music.volume = Math.max(0, Math.min(1, v));
        if ((step > 0 && v >= to) || (step < 0 && v <= to)) {
            clearInterval(interval);
            if (done) done();
        }
    }, 50);
}

const form = document.getElementById("rsvpForm");
const msg  = document.getElementById("msg");

form.addEventListener("submit", e => {
  e.preventDefault();
  msg.innerText = "‚è≥ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º...";

  fetch(
    "https://docs.google.com/forms/d/e/1FAIpQLScQ7b9UriuQOkJO8WNvITRnPmjQ_QWfjJQ81km5U0FsHAdrBg/formResponse",
    {
      method: "POST",
      mode: "no-cors",
      body: new FormData(form)
    }
  );

 setTimeout(() => {
  msg.innerText = "üíñ –°–ø–∞—Å–∏–±–æ! –ú—ã –±—É–¥–µ–º —Ä–∞–¥—ã –≤–∞—Å –≤–∏–¥–µ—Ç—å.";
  document.getElementById("name").value = "";
}, 800);});


const CSV_URL =
  "https://docs.google.com/spreadsheets/d/e/2PACX-1vRmS64o2oYizZamcsBO4zdZ8DjUrMfD8cjKUS-q8DMlbxAcm4nrcvskKcbamx7gC0dr2c8N9BsGV1Vr/pub?gid=53254085&single=true&output=csv";

function loadGuests() {
  fetch(CSV_URL + "&_=" + Date.now(), { cache: "no-store" })
    .then(res => res.text())
    .then(text => {
      const list = document.getElementById("guests");

      // ‚ùóÔ∏è–í–ê–ñ–ù–û: –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞–µ–º —Å–ø–∏—Å–æ–∫
      list.innerHTML = "";

      const rows = text
        .split("\n")
        .slice(1)
        .map(r => r.trim())
        .filter(Boolean);

      if (!rows.length) {
        list.innerHTML = "<li>–ü–æ–∫–∞ –Ω–∏–∫—Ç–æ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª —É—á–∞—Å—Ç–∏–µ ü§ç</li>";
        return;
      }

      rows.forEach((row, i) => {
        const cells = row.split(",");
        const name = cells[1]?.replace(/^"|"$/g, "").trim();

        if (name) {
          const li = document.createElement("li");
          li.textContent = name;
          li.style.animationDelay = `${i * 0.05}s`;
          list.appendChild(li);
        }
      });
    })
    .catch(err => {
      console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≥–æ—Å—Ç–µ–π:", err);
    });
}
loadGuests();
setInterval(loadGuests, 90000);

/* Premium envelope invite */
const seenInvite = localStorage.getItem("inviteSeen");
const guest = new URLSearchParams(location.search).get("guest");

if (guest && !seenInvite) {
    const overlay = document.getElementById("inviteOverlay");
    const nameEl  = document.getElementById("inviteName");
    const envelope = document.getElementById("envelope");
    const enter   = document.getElementById("enterSite");

    const prefix = guest.endsWith("–∞") ? "–î–æ—Ä–æ–≥–∞—è" : "–î–æ—Ä–æ–≥–æ–π";
    nameEl.textContent = `${prefix} ${guest}`;

    overlay.classList.add("active");

    envelope.addEventListener("click", () => {
        envelope.classList.add("open");
    }, { once: true });

    enter.addEventListener("click", e => {
        e.stopPropagation();
        localStorage.setItem("inviteSeen", "true");
        overlay.style.opacity = "0";
        setTimeout(() => overlay.remove(), 900);
    });
}



</script>

</body>
</html>
